```go
func convert(n int, mode int) int {
	if n == 0 {
		return 0
	}
	sign := n < 0 // 处理负数
	if sign {
		n = -n
	}
	var digits []byte
	for n > 0 {
		digits = append(digits, byte(n%mode)+'0')
		n = n / mode
	}
	if sign {
		digits = append(digits, byte('-'))
	}
	i, j := 0, len(digits)-1
	for i < j {
		digits[i], digits[j] = digits[j], digits[i]
		i++
		j--
	}
	res, _ := strconv.Atoi(string(digits))
	return res
}
```